$mobile_footer_height: 250px;
$desktop_footer_height: 106px;
// access and copyright info below the main navigational footer
$desktop_accessrights_height: 66px;
$mobile_accessrights_height: 242px;

body > footer {
  // height: $mobile_footer_height;
  position: relative;

  @include for-desktop-up {
    // height: $desktop_footer_height;
    margin: 0;
    padding: 0;

    // needs to match the grid of the timetree and leaf details panel
    display: grid;
    // reserve 32% for the panel, but limit the size of the tree portion
    grid-template-columns: calc(68% - 38px) auto;
    column-gap: 38px; // space between panel and timetree
    margin-right: 40px; // needs to match right margin outside the panel
    grid-template-areas: "nav" "logos";

    // grid-template-columns: auto $desktop_panel_width; // 410px;
    // column-gap: $column_gap; //  38px; // space between panel and timetree
  }

  nav {
    grid-area: nav;
    // grid-row-start: 1;
    // grid-column-start: 1;

    // use flex to space out footer links evenly
    display: flex;

    // limit footer nav width on larger screens
    @include for-desktop-up {
      width: 100%;
      max-width: 100%;
    }

    > * {
      flex-grow: 1;
    }
    // make links sufficiently large tap targets
    a {
      text-align: center;
      display: block;
      height: 48px;
      font-size: 16px;

      @include for-desktop-up {
        font-size: 18px;

        height: $desktop_footer_height;

        // vary vertical height based on position
        &:nth-child(1) {
          padding-top: calc(0.4 * #{$desktop_footer_height});
        }
        &:nth-child(2) {
          padding-top: calc(0.65 * #{$desktop_footer_height});
        }
        &:nth-child(3) {
          padding-top: calc(0.2 * #{$desktop_footer_height});
        }
        &:nth-child(4) {
          padding-top: calc(0.5 * #{$desktop_footer_height});
        }
        &:nth-child(5) {
          padding-top: calc(0.3 * #{$desktop_footer_height});
        }
      }
    }

    a,
    a:link,
    a:hover,
    a:visited {
      text-decoration: none;

      // add same text shadow as labels in the tree,
      // for visibility over the roots
      text-shadow: $nav-bg-color 0px 0px 4px;

      &[aria-current="page"] {
        font-weight: 900;
      }
    }
  }

  svg {
    grid-area: nav;
    // grid-row-start: 1;
    // grid-column-start: 1;

    overflow: visible;
    width: calc(100vw - 38px - 32vw - 40px);
    max-width: calc(100vw - 38px - 32vw - 40px);
    // border: 1px solid yellow;  /* for debugging position/size *
    // width: 100%; /* must match the tree */
  }

  #partner-logos {
    display: flex;
    flex-direction: row;
    justify-content: flex-end;
    margin-right: -40px;

    img {
      margin: 28px 28px 20px 16px;
      max-width: 100%;

      &[src*="naisip"] {
        height: 50px;
      }
      &[src*="vizelab"] {
        height: 58px;
      }
      &[src*="cdh"] {
        height: 55px;
      }
    }
  }
}

#access-rights {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  padding: 4px 28px;
  width: 100vw;
  border-top: 1px solid $offwhite;
  font-size: 0.9rem; // 18px

  > * {
    margin: 12px 20px 0 0;
  }

  a {
    text-decoration: none;
  }

  a[href*="accessibility"] {
    text-transform: uppercase;
    text-decoration: solid underline $offwhite 1px;
    text-underline-offset: 12px;
  }

  #copyright {
    // width: 24.8rem; // 496px;
    margin-left: 1.4rem;
    white-space: nowrap;
    i {
      margin-right: 0.6rem;
      vertical-align: text-bottom;
    }
  }

  a[href*="license"] {
    margin-left: 1rem;
    width: 72px;
    img {
      height: 24px;
      vertical-align: text-bottom;
    }
  }

  #version,
  #copyright,
  a[href*="license"] {
  }

  a[href^="https://princeton.edu"]
  {
    padding: 0;
    margin-left: auto; // auto margin = justify item flex-end
    margin-right: 0;
    img {
      width: 150px;
      height: 42px;
    }
  }
}
